!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self,e.Split=t())}(this,function(){"use strict";var e="undefined"!=typeof window?window:null,t=null===e,n=t?void 0:e.document,i="addEventListener",r="removeEventListener",s="getBoundingClientRect",o="_a",a="_b",u="_c",l="horizontal",c=function(){return!1},f=t?"calc":["","-webkit-","-moz-","-o-"].filter(function(e){var t=n.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length}).shift()+"calc",h=function(e){return"string"==typeof e||e instanceof String},m=function(e){if(h(e)){var t=n.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},d=function(e,t,n){var i=e[t];return void 0!==i?i:n},p=function(e,t,n,i){if(t){if("end"===i)return 0;if("center"===i)return e/2}else if(n){if("start"===i)return 0;if("center"===i)return e/2}return e},g=function(e,t){var i=n.createElement("div");return i.className="gutter gutter-"+t,i},v=function(e,t,n){var i={};return h(t)?i[e]=t:i[e]=f+"("+t+"% - "+n+"px)",i},y=function(e,t){var n;return n={},n[e]=t+"px",n};return function(f,h){function z(e,t,n,i){var r=V(k,t,n,i);Object.keys(r).forEach(function(t){e.style[t]=r[t]})}function S(){return T.map(function(e){return e.size})}function b(e){return"touches"in e?e.touches[0][M]:e[M]}function w(e){var t=T[this.a],n=T[this.b],i=t.size+n.size;t.size=e/this.size*i,n.size=i-e/this.size*i,z(t.element,t.size,this[a],t.i),z(n.element,n.size,this[u],n.i)}function E(){var e=T[this.a].element,t=T[this.b].element,n=e[s](),i=t[s]();this.size=n[k]+i[k]+this[a]+this[u],this.start=n[U],this.end=n[C]}function x(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[D];return 0===n?null:n-=K===l?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(F);if(null===t)return e;if(R.reduce(function(e,t){return e+t},0)>t)return e;var n=0,i=[],r=e.map(function(r,s){var o=t*r/100,a=p(W,0===s,s===e.length-1,X),u=R[s]+a;return o<u?(n+=u-o,i.push(0),u):(i.push(o-u),o)});return 0===n?e:r.map(function(e,r){var s=e;if(n>0&&i[r]-n>0){var o=Math.min(n,i[r]-n);n-=o,s=e-o}return s/t*100})}function O(t){if(!("button"in t&&0!==t.button)){var s=T[this.a].element,o=T[this.b].element;this.dragging||d(h,"onDragStart",c)(S()),t.preventDefault(),this.dragging=!0,this.move=function(e){var t,n=T[this.a],i=T[this.b];this.dragging&&(t=b(e)-this.start+(this[a]-this.dragOffset),J>1&&(t=Math.round(t/J)*J),t<=n.minSize+n.snapOffset+this[a]?t=n.minSize+this[a]:t>=this.size-(i.minSize+i.snapOffset+this[u])&&(t=this.size-(i.minSize+this[u])),t>=n.maxSize-n.snapOffset+this[a]?t=n.maxSize+this[a]:t<=this.size-(i.maxSize-i.snapOffset+this[u])&&(t=this.size-(i.maxSize+this[u])),w.call(this,t),d(h,"onDrag",c)(S()))}.bind(this),this.stop=function(){var t=T[this.a].element,i=T[this.b].element;this.dragging&&d(h,"onDragEnd",c)(S()),this.dragging=!1,e[r]("mouseup",this.stop),e[r]("touchend",this.stop),e[r]("touchcancel",this.stop),e[r]("mousemove",this.move),e[r]("touchmove",this.move),this.stop=null,this.move=null,t[r]("selectstart",c),t[r]("dragstart",c),i[r]("selectstart",c),i[r]("dragstart",c),t.style.userSelect="",t.style.webkitUserSelect="",t.style.MozUserSelect="",t.style.pointerEvents="",i.style.userSelect="",i.style.webkitUserSelect="",i.style.MozUserSelect="",i.style.pointerEvents="",this.gutter.style.cursor="",this.parent.style.cursor="",n.body.style.cursor=""}.bind(this),e[i]("mouseup",this.stop),e[i]("touchend",this.stop),e[i]("touchcancel",this.stop),e[i]("mousemove",this.move),e[i]("touchmove",this.move),s[i]("selectstart",c),s[i]("dragstart",c),o[i]("selectstart",c),o[i]("dragstart",c),s.style.userSelect="none",s.style.webkitUserSelect="none",s.style.MozUserSelect="none",s.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",this.gutter.style.cursor=P,this.parent.style.cursor=P,n.body.style.cursor=P,E.call(this),this.dragOffset=b(t)-this.end}}function A(e){var t=e.i===$.length,n=t?$[e.i-1]:$[e.i];E.call(n);var i=t?n.size-e.minSize-n[u]:e.minSize+n[a];w.call(n,i)}if(void 0===h&&(h={}),t)return{};var k,M,U,C,D,T,j=f;Array.from&&(j=Array.from(j));var F=m(j[0]).parentNode,B=getComputedStyle?getComputedStyle(F):null,L=B?B.flexDirection:null,_=d(h,"sizes")||j.map(function(){return 100/j.length}),N=d(h,"minSize",100),R=Array.isArray(N)?N:j.map(function(){return N}),q=d(h,"maxSize",1/0),H=Array.isArray(q)?q:j.map(function(){return q}),I=d(h,"expandToMin",!1),W=d(h,"gutterSize",10),X=d(h,"gutterAlign","center"),Y=d(h,"snapOffset",30),G=Array.isArray(Y)?Y:j.map(function(){return Y}),J=d(h,"dragInterval",1),K=d(h,"direction",l),P=d(h,"cursor",K===l?"col-resize":"row-resize"),Q=d(h,"gutter",g),V=d(h,"elementStyle",v),Z=d(h,"gutterStyle",y);K===l?(k="width",M="clientX",U="left",C="right",D="clientWidth"):"vertical"===K&&(k="height",M="clientY",U="top",C="bottom",D="clientHeight"),_=x(_);var $=[];return(T=j.map(function(e,t){var n,r={element:m(e),size:_[t],minSize:R[t],maxSize:H[t],snapOffset:G[t],i:t};if(t>0&&(n={a:t-1,b:t,dragging:!1,direction:K,parent:F},n[a]=p(W,t-1==0,!1,X),n[u]=p(W,!1,t===j.length-1,X),"row-reverse"===L||"column-reverse"===L)){var s=n.a;n.a=n.b,n.b=s}if(t>0){var l=Q(t,K,r.element);!function(e,t,n){var i=Z(k,t,n);Object.keys(i).forEach(function(t){e.style[t]=i[t]})}(l,W,t),n[o]=O.bind(n),l[i]("mousedown",n[o]),l[i]("touchstart",n[o]),F.insertBefore(l,r.element),n.gutter=l}return z(r.element,r.size,p(W,0===t,t===j.length-1,X),t),t>0&&$.push(n),r})).forEach(function(e){var t=e.element[s]()[k];t<e.minSize&&(I?A(e):e.minSize=t)}),{setSizes:function(e){var t=x(e);t.forEach(function(e,n){if(n>0){var i=$[n-1],r=T[i.a],s=T[i.b];r.size=t[n-1],s.size=e,z(r.element,r.size,i[a],r.i),z(s.element,s.size,i[u],s.i)}})},getSizes:S,collapse:function(e){A(T[e])},destroy:function(e,t){$.forEach(function(n){if(!0!==t?n.parent.removeChild(n.gutter):(n.gutter[r]("mousedown",n[o]),n.gutter[r]("touchstart",n[o])),!0!==e){var i=V(k,n.a.size,n[a]);Object.keys(i).forEach(function(e){T[n.a].element.style[e]="",T[n.b].element.style[e]=""})}})},parent:F,pairs:$}}});